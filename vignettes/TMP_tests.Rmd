---
title: "R Notebook"
output: html_notebook
---



```{r}
load(system.file("test_data/StockDividends.rdata", package = "clustertree"))
X_n <- StockDividends[, 2:12]

## Supply Variables/parameters
{ n <- nrow(X_n); dist_x <- dist(X_n, method = "euclidean") }


# clustertree::knn(X_n, k = 5)

clustertree::clustertree(X_n)




X_n <- as.matrix(iris[, 1:4])
n <- row(X_n)
r_k <- apply(dbscan::kNNdist(X_n, k = 5), 1, max)


test <- clustertree:::getMetric_int("euclidean", list(d=ncol(X_n)))
t1 <- clustertree:::dtbRSL(X_n, r_k = r_k, alpha = sqrt(2), type=0, metric_ptr = test)
t2 <- clustertree:::primsRSL(dist(X_n), r_k = r_k, n = nrow(X_n), alpha = sqrt(2), type = 0)


test_knn <- clustertree:::dt_kNN_int(X_n, k = 5, bucketSize = 2, splitRule = 5L, metric_ptr = test)

truth_knn <- dbscan::kNN(X_n, k = 5)
all(truth_knn$dist == sqrt(test_knn$dist))
#r_k <- clustertree:::dt_kNN_int(q_x = test, k = 5, bucketSize = 1, metric_ptr = test, splitRule = 5)




```
